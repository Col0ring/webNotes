# Vue项目

## 1.制作首页App组件

### 1.1 完成Header区域,使用Mint-UI中的Header组件



### 1.2 完成底部的Tabbar区域,使用MUI的Tabbar.html

**注:**在制作购物车小图标的时候操作相对多一些

- 先把扩展图标的css样式拷贝到项目中
- 拷贝字体库的ttf文件到项目中
- 为购物车小图片添加`mui-icon mui-icon-extra mui-icon-extra-cart`



### 1.3 在中间区域放置一个router-view来展示路由匹配到的组件



## 2.改造tabbar

### 2.1 将tabbar中的a标签改为router-link



### 2.2 修改路由高亮的类为mui-active,设置路由高亮



## 3.点击tabbar中的路由链接展示对应路由组件

### 3.1 制作首页轮播图布局

#### 3.1.1 加载首页轮播图数据

- 获取数据使用axios
- 使用axios的get方法获取数据,将获取的数据保存到data身上
- 使用v-for循环渲染每个item



### 3.2 制作首页九宫格布局

#### 3.2.1 新闻资讯页面

- 绘制界面,使用MUI中的media-list.html
- 使用axios获取数据
- 渲染真实数据
- 实现新闻资讯列表 点击跳转到新闻详情
  - 把列表中的每一项改造为router-link,同时在跳转的时候提供唯一的标识符
  - 创建新闻详情的组件页面
  - 在路由模板中将新闻详情的路由地址和组件页面对应
- 实现新闻详情的页面和数据渲染



#### 3.2.2 图片列表页面

- 绘制图片列表组件并美化样式

- 制作顶部的导航

- 制作底部的图片列表

  - 图片列表需要使用懒加载技术,可以使用Mint-UI提供现成的组件`lazy-load`
  - 根据`lazy-load`的使用文档尝试使用
  - 渲染图片列表数据

- 实现点击图片跳转到图片详情页面

  + 改造li为router-link的时候需要使用tag属性指定要渲染的元素

  + 实现详情页面的布局和美化,同时获取数据渲染页面

  + 实现图片详情中的缩略图功能

    + 使用vue-preview插件
    + 获取所有的图片列表,然后用v-for指令渲染数据

    **注意:**img标签上的class不能去掉,同时每个图片数据对象中必须有w和h属性



#### 3.2.3 商品列表页面

- 绘制商品列表组件并美化样式

## 4.单独封装一个comment.vue 评论子组件

### 4.1 导入组件

#### 4.1.1 使用局部导入

- 先创建一个单独的comment.vue组件模板

- 在需要使用comment组件的页面中先手动导入comment组件

  `import comment from './comment.vue'`

- 在父组件中使用`components`属性,将导入的comment组件注册为自己的子组件

- 将注册子组件的时候注册名称,以标签形式在页面中引用



#### 4.1.2 使用全局导入

在main.js中导入comment.vue组件模板,然后使用`Vue.component()`将该组件注册为全局组件,这样在任何地方都能够直接导入该组件 



### 4.3 获取所有的评论数据显示到页面中



### 4.4 实现点击加载更多评论

- 为更多评论按钮绑定点击事件,在事件中请求下一页数据
- 点击更多评论,让pageIndex++,然后重新调用this.getComments()方法重新获取最新一页的数据,通过pageIndex的页数来获取加载的数据
- 为了防止新数据覆盖老数据的情况发生,在点击更多评论时,每当获取到新数据,应该使用数组拼接的方法将数组重新拼接



### 4.5 发表评论

- 把文本框做双向数据绑定
- 为发表按钮绑定一个事件
- 检验评论内容是否为空,如果为空则通过Mint-UI的Toast提示用户评论内容不能为空
- 通过axios发生一个请求,把评论给服务器(这里是本地的储存)
- 当发表评论完成后重新刷新列表查看最新评论
  + 法一:如果通过getComments()方法重新刷新评论列表可能只能得到最后的一页的评论,前几页的评论获取不到
  + 法二:当评论成功后,在客户端手动拼接一个最新的评论对象,然后调用数组的unshift方法把最新的评论追加到data中的comments的开头中,达到完美实现刷新评论的需求



## 5.尝试在手机上去进行项目的预览和测试

- 保证自己的手机和当前做项目的电脑，处于同一个WIFI环境中
- 当手机和电脑处于同一个WIFI中之后，需要运行终端命令`ipconfig`，查找 `无线局域网适配器` 的网络配置，复制其`IPv4`的地址；
- 把复制的Ip地址，粘贴到`package.json`中：`"dev": "webpack-dev-server --open --port 3000 --host 127.0.0.1 --hot"`， 将`--host`指令设置为 WIFI的地址；
- 在确保手机和自己的电脑处于同个WIFI的前提下，而且，正确使用 WIFI 地址运行项目之后，可以打开自己的手机浏览器，输入 `http:// + IP地址 + 端口号`，就能在手机上调试自己的网站